---
layout: post
title: 用Heroku+snova完美翻墙并支持https
category: tech
---

p(date). 2012-12-03

goagent是优秀的翻墙工具，但由于斯巴达的影响，造成谷歌搜索经常无缘故的被重定向，@yinqiwen 开发的snova，部署在heroku上运行非常稳定，
翻墙速度很给力，最重要的是完美支持https。

h3 1. 首先创建一个heroku帐号
   在<a target="_blank" href="http://twitter.com/gxxx" target="_blank">这个页面</a>输入你的有邮箱地址
h3 2. 安装 HEROKU TOOLBELT

注册成功之后，你会收到一封邮件，点击里面的那个长长的链接，然后在打开的<a href="https://toolbelt.heroku.com/windows">页面下载</a>页面下载 Heroku Toolbelt 软件并安装。
h3 3. 下载 SNOVA-C4-HEROKU-SERVER-XXX.ZIP
 <img src="/image/snovahome.jpg" />
在 https://code.google.com/p/snova/downloads/list 下载 “snova-c4-server-0.19.0.war” 文件并放到D盘根目录下，可改名为190.war
h3 4. 部署 SNOVA C4 服务端到 HEROKU


	* 打开命令行难看的黑色界面，输入 d:  回车
	* 输入 heroku login 回车；输入注册heroku时所用的邮箱，回车；输入密码，回车。
	*  heroku plugins:install https://github.com/heroku/heroku-deploy 回车 --只需执行一次，以后不用执行
	* heroku apps:create      --此步会创建一个app，格式为abc.herokuapp.com。（更新不用执行此步。）
	* heroku deploy:war --war ./190.war --app abc    回车 （abc是你创建的app的名字。比如abc.herokuapp.com ）
	* 

	* 出现     uploading ./190.war…………done
	* …………
	* Created release v6
	* 

	* 结束

打开http://abc.herokuapp.com/
如果出现
h4 Snova C4 Server 0.19.0
 <img src="/image/snova.jpg" />
证明成功！真不容易啊~~~
h3 5. 下载、配置 SNOVA C4 客户端
<img src="/image/snovahome.jpg" />
32位选：gsnova_0.19.2_windows_386.zip  
64位选：gsnova_0.19.2_windows_amd64.zip

解压缩，修改 gsnova.conf 的以下部分


[GAE]
Enable=0 

[C4]
Enable=1
WorkerNode[0]=abc.herokuapp.com
WorkerNode[1]=xyz.herokuapp.com （如果你创建了第二个app，名叫def。 可以此格式加多个。）

[SPAC]
Enable=0
Default=Auto

保存，搞定！

6.设置浏览器 实现智能代理

chrome浏览器请安装<a href="https://chrome.google.com/webstore/detail/proxy-switchysharp/dpplabbmogkhghncfbfdeeokoefdjegm">SwitchySharp</a>插件，然后导入这个设置 https://snovabak.googlecode.com/files/snova.bak

在SwitchySharp的“切换规则”选项卡，点击“立即更新列表”
最后重启一下chrome浏览器就可以自由冲浪了
